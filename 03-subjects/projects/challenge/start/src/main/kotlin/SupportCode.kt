/*
 * Copyright (c) 2020 Razeware LLC
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * Notwithstanding the foregoing, you may not use, copy, modify, merge, publish,
 * distribute, sublicense, create a derivative work, and/or sell copies of the
 * Software in any work that is designed, intended, or marketed for pedagogical or
 * instructional purposes related to programming, coding, application development,
 * or information technology.  Permission for such use, copying, modification,
 * merger, publication, distribution, sublicensing, creation of derivative works,
 * or sale is expressly withheld.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

import java.util.Random

fun exampleOf(description: String, action: () -> Unit) {
  println("\n--- Example of: $description ---")
  action()
}

val cards = mutableListOf(
  Pair("ğŸ‚¡", 11), Pair("ğŸ‚¢", 2), Pair("ğŸ‚£", 3), Pair("ğŸ‚¤", 4), Pair("ğŸ‚¥", 5), Pair("ğŸ‚¦", 6), Pair("ğŸ‚§", 7),
  Pair("ğŸ‚¨", 8), Pair("ğŸ‚©", 9), Pair("ğŸ‚ª", 10), Pair("ğŸ‚«", 10), Pair("ğŸ‚­", 10), Pair("ğŸ‚®", 10),
  Pair("ğŸ‚±", 11), Pair("ğŸ‚²", 2), Pair("ğŸ‚³", 3), Pair("ğŸ‚´", 4), Pair("ğŸ‚µ", 5), Pair("ğŸ‚¶", 6), Pair("ğŸ‚·", 7),
  Pair("ğŸ‚¸", 8), Pair("ğŸ‚¹", 9), Pair("ğŸ‚º", 10), Pair("ğŸ‚»", 10), Pair("ğŸ‚½", 10), Pair("ğŸ‚¾", 10),
  Pair("ğŸƒ", 11), Pair("ğŸƒ‚", 2), Pair("ğŸƒƒ", 3), Pair("ğŸƒ„", 4), Pair("ğŸƒ…", 5), Pair("ğŸƒ†", 6), Pair("ğŸƒ‡", 7),
  Pair("ğŸƒˆ", 8), Pair("ğŸƒ‰", 9), Pair("ğŸƒŠ", 10), Pair("ğŸƒ‹", 10), Pair("ğŸƒ", 10), Pair("ğŸƒ", 10),
  Pair("ğŸƒ‘", 11), Pair("ğŸƒ’", 2), Pair("ğŸƒ“", 3), Pair("ğŸƒ”", 4), Pair("ğŸƒ•", 5), Pair("ğŸƒ–", 6), Pair("ğŸƒ—", 7),
  Pair("ğŸƒ˜", 8), Pair("ğŸƒ™", 9), Pair("ğŸƒš", 10), Pair("ğŸƒ›", 10), Pair("ğŸƒ", 10), Pair("ğŸƒ", 10)
)

fun cardString(hand: List<Pair<String, Int>>): String {
  return hand.joinToString("") { it.first }
}

fun points(hand: List<Pair<String, Int>>) = hand.map { it.second }.fold(0) { s, a -> s + a }

fun IntRange.random() = Random().nextInt(endInclusive - start) +  start

sealed class HandError: Throwable() {
  class Busted: HandError()
}
